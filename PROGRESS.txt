## Session: shared .blacksmith path resolution in worktrees (simple-agent-harness-c34r)

### Completed
- Added worktree-aware path resolution in `src/main.rs` so default CLI config (`.blacksmith/config.toml`) resolves to the shared repository root via `git rev-parse --git-common-dir`.
- Updated command config loading to use a single resolved config path and to rewrite relative `storage.data_dir` to the shared repo root only when using the default config path.
- Preserved explicit config override behavior by leaving relative `storage.data_dir` unchanged when `--config` is non-default.
- Added unit tests validating main checkout vs worktree path equivalence and explicit override behavior.

### Current State
- `cargo test --release` passes with new path-resolution tests.
- `cargo clippy --fix --allow-dirty` completed successfully.
- Formatting updates were applied with `cargo fmt` after `cargo fmt --check` reported diffs.

### Suggested Next Task
- Validate the same shared-path behavior through a real CLI smoke run for progress/improve commands from both main checkout and a worker worktree.
